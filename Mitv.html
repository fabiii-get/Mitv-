<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Feed con swipe</title>
  <style>
    *{margin:0;box-sizing:border-box}
    body{background:#000;height:100vh;overflow:hidden}
    .feed{height:100%;display:flex;flex-direction:column;scroll-snap-type:y mandatory;overflow-y:auto}
    .item{flex:0 0 100%;height:100%;scroll-snap-align:start;display:flex;align-items:center;justify-content:center}
    video{width:100%;height:100%;object-fit:cover}
  </style>
</head>
<body>
  <div class="feed" id="feed">
    <section class="item"><video src="video1.mp4" playsinline muted></video></section>
    <section class="item"><video src="video2.mp4" playsinline muted></video></section>
  </div>

  <script>
    const sections = Array.from(document.querySelectorAll('.item'));
    const videos = sections.map(s=>s.querySelector('video'));
    let current = 0;

    function play(idx){
      videos.forEach(v=>v.pause());
      const v = videos[idx];
      if(v){ v.currentTime=0; v.play(); }
    }

    // autoplay al terminar
    videos.forEach((v,idx)=>{
      v.addEventListener('ended', ()=>{
        current = (idx+1)%videos.length;
        sections[current].scrollIntoView({behavior:'smooth'});
        setTimeout(()=>play(current),400);
      });
    });

    // swipe tÃ¡ctil
    let startY=0;
    document.getElementById('feed').addEventListener('touchstart', e=>{
      startY=e.touches[0].clientY;
    });
    document.getElementById('feed').addEventListener('touchend', e=>{
      let endY=e.changedTouches[0].clientY;
      let diff=startY-endY;
      if(Math.abs(diff)>50){
        if(diff>0){ // swipe arriba
          current = Math.min(current+1, videos.length-1);
        } else { // swipe abajo
          current = Math.max(current-1, 0);
        }
        sections[current].scrollIntoView({behavior:'smooth'});
        setTimeout(()=>play(current),400);
      }
    });

    // iniciar primer video
    window.addEventListener('load', ()=>play(0));
  </script>
</body>
</html>
